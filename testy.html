<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>鞋碼轉換器</title>
    
    <!-- 模擬原生App，隱藏瀏覽器欄（iOS 專用） -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <!-- PWA Manifest - 讓加到主畫面有自訂 icon、名稱、全螢幕 -->
    <link rel="manifest" href="data:application/manifest+json,%7B%22name%22%3A%22%E9%9E%8B%E7%A2%BC%E8%BD%89%E6%8F%9B%E5%99%A8%22%2C%22short_name%22%3A%22%E9%9E%8B%E7%A2%BC%E8%BD%89%22%2C%22start_url%22%3A%22.%22%2C%22display%22%3A%22standalone%22%2C%22background_color%22%3A%22%231a1a1a%22%2C%22theme_color%22%3A%22%239400D3%22%2C%22icons%22%3A%5B%7B%22src%22%3A%22data%3Aimage/svg+xml%2C%253Csvg%20xmlns%3D'http%3A//www.w3.org/2000/svg'%20viewBox%3D'0%200%20100%20100'%253E%253Ctext%20y%3D'.9em'%20font-size%3D'90'%253E%F0%9F%91%9F%253C/text%253E%253C/svg%253E%22%2C%22sizes%22%3A%22192x192%22%2C%22type%22%3A%22image/svg+xml%22%7D%2C%7B%22src%22%3A%22data%3Aimage/svg+xml%2C%253Csvg%20xmlns%3D'http%3A//www.w3.org/2000/svg'%20viewBox%3D'0%200%20100%20100'%253E%253Ctext%20y%3D'.9em'%20font-size%3D'120'%253E%F0%9F%91%9F%253C/text%253E%253C/svg%253E%22%2C%22sizes%22%3A%22512x512%22%2C%22type%22%3A%22image/svg+xml%22%7D%5D%7D">
    
    <!-- iOS 專用 icon（Safari 很吃這個） -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='.9em' font-size='90'%3E%F0%9F%91%9F%3C/text%3E%3C/svg%3E">

    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, sans-serif; }
        body { background: #1a1a1a; color: #fff; min-height: 100vh; }
        .title { padding: 20px; text-align: center; font-size: 22px; color: #9400D3; }
        .option-list { margin-top: 30px; }
        .option-item { 
            padding: 20px; 
            text-align: center; 
            font-size: 20px; 
            color: #4da6ff;
            border-bottom: 1px solid #333;
            cursor: pointer;
        }
        .option-item:hover { background: #2d2d2d; }
        .cancel-item { color: #ff4444; margin-top: 20px; }
        .install-tip {
            padding: 10px;
            background: #333;
            text-align: center;
            font-size: 14px;
            color: #ccc;
        }
    </style>
</head>
<body>
    <!-- 加個小提示，告訴怎麼安裝 -->
    <div class="install-tip">
        建議：點右上分享按鈕 → 「加到主畫面」，就能像 App 一鍵開啟～
    </div>

    <div class="title">選擇鞋款類型</div>
    <div class="option-list">
        <div class="option-item" onclick="selectType('男款')">男款</div>
        <div class="option-item" onclick="selectType('女款')">女款</div>
        <div class="option-item" onclick="selectType('兒童款')">兒童款</div>
        <div class="option-item cancel-item" onclick="closeApp()">取消</div>
    </div>

    <script>
        // 鞋碼數據（之後填你的真實數據）
        const sizeData = {
            "男款": [/* 你的男款數據 */],
            "女款": [/* 你的女款數據 */],
            "兒童款": [/* 你的兒童款數據 */]
        };

        function selectType(type) {
            alert(`已選擇${type}，接下來可以輸入尺碼轉換～`);
            // 這裡之後換成真正的轉換介面
        }

        function closeApp() {
            window.close(); // standalone 模式下會返回主畫面
        }

        // 簡單 service worker（單檔內嵌，支援基本離線快取）
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const swCode = `
                    const CACHE_NAME = 'shoe-size-v1';
                    self.addEventListener('install', e => {
                        e.waitUntil(
                            caches.open(CACHE_NAME).then(cache => {
                                return cache.addAll(['./', './index.html']);
                            })
                        );
                    });
                    self.addEventListener('fetch', e => {
                        e.respondWith(
                            caches.match(e.request).then(response => {
                                return response || fetch(e.request);
                            })
                        );
                    });
                `;
                const blob = new Blob([swCode], {type: 'application/javascript'});
                const swUrl = URL.createObjectURL(blob);

                navigator.serviceWorker.register(swUrl, {scope: './'})
                    .then(() => console.log('離線支援已註冊'))
                    .catch(err => console.log('Service Worker 失敗', err));
            });
        }
    </script>
</body>
</html>
